// JavaScript –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–æ–≤–æ—Å—Ç–µ–π

// –î–∞–Ω–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–µ–π
const newsData = [
  {
    id: 1,
    title: '–î–µ–Ω—å –æ—Ç–∫—Ä—ã—Ç—ã—Ö –¥–≤–µ—Ä–µ–π –ò–ö–ì–£ 2025',
    excerpt: '–ü—Ä–∏–≥–ª–∞—à–∞–µ–º –≤—Å–µ—Ö –∂–µ–ª–∞—é—â–∏—Ö –Ω–∞ –î–µ–Ω—å –æ—Ç–∫—Ä—ã—Ç—ã—Ö –¥–≤–µ—Ä–µ–π! –ü–æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å –Ω–∞—à–∏–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏ –æ–±—É—á–µ–Ω–∏—è, –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º–∏ –∏ —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏.',
    content: `–£–≤–∞–∂–∞–µ–º—ã–µ –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç—ã –∏ —Ä–æ–¥–∏—Ç–µ–ª–∏!

–ò—Å—Å—ã–∫-–ö—É–ª—å—Å–∫–∏–π –ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –ø—Ä–∏–≥–ª–∞—à–∞–µ—Ç –≤–∞—Å –Ω–∞ –î–µ–Ω—å –æ—Ç–∫—Ä—ã—Ç—ã—Ö –¥–≤–µ—Ä–µ–π, –∫–æ—Ç–æ—Ä—ã–π —Å–æ—Å—Ç–æ–∏—Ç—Å—è 20 —è–Ω–≤–∞—Ä—è 2025 –≥–æ–¥–∞.

–í –ø—Ä–æ–≥—Ä–∞–º–º–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è:
‚Ä¢ –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º
‚Ä¢ –≠–∫—Å–∫—É—Ä—Å–∏—è –ø–æ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞
‚Ä¢ –í—Å—Ç—Ä–µ—á–∞ —Å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º–∏ –∏ —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏
‚Ä¢ –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è
‚Ä¢ –ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã –æ—Ç –≤–µ–¥—É—â–∏—Ö —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤

–ù–∞—á–∞–ª–æ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è –≤ 10:00. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å 9:30.

–ú—ã –∂–¥–µ–º –≤–∞—Å –ø–æ –∞–¥—Ä–µ—Å—É: –≥. –ö–∞—Ä–∞–∫–æ–ª, —É–ª. –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç—Å–∫–∞—è, 1

–î–ª—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É: +996 XXX XXX XXX`,
    image: 'https://images.unsplash.com/photo-1523050854058-8df90110c9f1?w=900&h=600&fit=crop',
    date: '10 –¥–µ–∫–∞–±—Ä—è 2025'
  },
  {
    id: 2,
    title: '–°—Ç—É–¥–µ–Ω—Ç—ã –ò–ö–ì–£ –∑–∞–Ω—è–ª–∏ –ø—Ä–∏–∑–æ–≤—ã–µ –º–µ—Å—Ç–∞ –Ω–∞ —Ä–µ—Å–ø—É–±–ª–∏–∫–∞–Ω—Å–∫–æ–π –æ–ª–∏–º–ø–∏–∞–¥–µ',
    excerpt: '–ù–∞—à–∏ —Å—Ç—É–¥–µ–Ω—Ç—ã –ø–æ–∫–∞–∑–∞–ª–∏ –æ—Ç–ª–∏—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞ —Ä–µ—Å–ø—É–±–ª–∏–∫–∞–Ω—Å–∫–æ–π –æ–ª–∏–º–ø–∏–∞–¥–µ –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é, –∑–∞–≤–æ–µ–≤–∞–≤ –∑–æ–ª–æ—Ç—É—é –∏ —Å–µ—Ä–µ–±—Ä—è–Ω—É—é –º–µ–¥–∞–ª–∏.',
    content: `–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º –Ω–∞—à–∏—Ö —Ç–∞–ª–∞–Ω—Ç–ª–∏–≤—ã—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤!

–í –º–∏–Ω—É–≤—à–∏–µ –≤—ã—Ö–æ–¥–Ω—ã–µ –≤ —Å—Ç–æ–ª–∏—Ü–µ –ø—Ä–æ—à–ª–∞ —Ä–µ—Å–ø—É–±–ª–∏–∫–∞–Ω—Å–∫–∞—è –æ–ª–∏–º–ø–∏–∞–¥–∞ –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é —Å—Ä–µ–¥–∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –≤—ã—Å—à–∏—Ö —É—á–µ–±–Ω—ã—Ö –∑–∞–≤–µ–¥–µ–Ω–∏–π –ö—ã—Ä–≥—ã–∑—Å—Ç–∞–Ω–∞.

–ö–æ–º–∞–Ω–¥–∞ –ò–ö–ì–£ –≤ —Å–æ—Å—Ç–∞–≤–µ:
‚Ä¢ –ê–∑–∞–º–∞—Ç –¢–æ–∫—Ç–æ–≥—É–ª–æ–≤ (3 –∫—É—Ä—Å, —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å "–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞") - ü•á –ó–æ–ª–æ—Ç–∞—è –º–µ–¥–∞–ª—å
‚Ä¢ –ê–π–∂–∞–Ω –°—É–ª–∞–π–º–∞–Ω–æ–≤–∞ (2 –∫—É—Ä—Å, —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ") - ü•à –°–µ—Ä–µ–±—Ä—è–Ω–∞—è –º–µ–¥–∞–ª—å
‚Ä¢ –ë–µ–∫–∂–∞–Ω –≠—Ä–≥–µ—à–æ–≤ (4 –∫—É—Ä—Å, —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏") - —É—á–∞—Å—Ç–Ω–∏–∫

–°—Ç—É–¥–µ–Ω—Ç—ã —Ä–µ—à–∞–ª–∏ —Å–ª–æ–∂–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏ –Ω–∞–≤—ã–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —è–∑—ã–∫–∞—Ö.

–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –∫–æ–º–∞–Ω–¥—ã, —Å—Ç–∞—Ä—à–∏–π –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –∫–∞—Ñ–µ–¥—Ä—ã –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∏ –ú–∞—Ä–∞—Ç –ê—Å–∞–Ω–æ–≤–∏—á –æ—Ç–º–µ—Ç–∏–ª –≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –Ω–∞—à–∏—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∏ –∏—Ö —Ü–µ–ª–µ—É—Å—Ç—Ä–µ–º–ª–µ–Ω–Ω–æ—Å—Ç—å.

–ñ–µ–ª–∞–µ–º –Ω–∞—à–∏–º —Å—Ç—É–¥–µ–Ω—Ç–∞–º –¥–∞–ª—å–Ω–µ–π—à–∏—Ö —É—Å–ø–µ—Ö–æ–≤ –∏ –Ω–æ–≤—ã—Ö –ø–æ–±–µ–¥!`,
    image: 'https://images.unsplash.com/photo-1517694712202-14dd9538aa97?w=900&h=600&fit=crop',
    date: '8 –¥–µ–∫–∞–±—Ä—è 2025'
  },
  {
    id: 3,
    title: '–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –∫–æ–Ω—Ü–µ—Ä—Ç –∏ –Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ –ª—É—á—à–∏—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤',
    excerpt: '–£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –ø—Ä–æ–≤–µ–ª —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–π –∫–æ–Ω—Ü–µ—Ä—Ç —Å –Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ–º —Å—Ç—É–¥–µ–Ω—Ç–æ–≤, –æ—Ç–ª–∏—á–∏–≤—à–∏—Ö—Å—è –≤ —É—á–µ–±–µ, –Ω–∞—É–∫–µ –∏ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.',
    content: `–ü—Ä–∞–∑–¥–Ω–∏—á–Ω–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –≤ –ò–ö–ì–£!

–í—á–µ—Ä–∞ –≤ –∞–∫—Ç–æ–≤–æ–º –∑–∞–ª–µ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞ —Å–æ—Å—Ç–æ—è–ª—Å—è —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–π –∫–æ–Ω—Ü–µ—Ä—Ç, –ø–æ—Å–≤—è—â–µ–Ω–Ω—ã–π –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é –ø–µ—Ä–≤–æ–≥–æ —Å–µ–º–µ—Å—Ç—Ä–∞ 2024-2025 —É—á–µ–±–Ω–æ–≥–æ –≥–æ–¥–∞.

–í —Ç–æ—Ä–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –æ–±—Å—Ç–∞–Ω–æ–≤–∫–µ –±—ã–ª–∏ –Ω–∞–≥—Ä–∞–∂–¥–µ–Ω—ã:
üìö –û—Ç–ª–∏—á–Ω–∏–∫–∏ —É—á–µ–±—ã - 45 —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
üî¨ –ü–æ–±–µ–¥–∏—Ç–µ–ª–∏ –Ω–∞—É—á–Ω—ã—Ö –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–π - 12 —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
üèÜ –ê–∫—Ç–∏–≤–∏—Å—Ç—ã —Å—Ç—É–¥–µ–Ω—á–µ—Å–∫–æ–≥–æ —Å–∞–º–æ—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è - 8 —á–µ–ª–æ–≤–µ–∫
üé≠ –£—á–∞—Å—Ç–Ω–∏–∫–∏ —Ç–≤–æ—Ä—á–µ—Å–∫–∏—Ö –∫–æ–ª–ª–µ–∫—Ç–∏–≤–æ–≤ - 15 —Å—Ç—É–¥–µ–Ω—Ç–æ–≤

–ö–æ–Ω—Ü–µ—Ä—Ç–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –≤–∫–ª—é—á–∞–ª–∞:
‚Ä¢ –í—ã—Å—Ç—É–ø–ª–µ–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—á–µ—Å–∫–æ–≥–æ —Ö–æ—Ä–∞
‚Ä¢ –¢–∞–Ω—Ü–µ–≤–∞–ª—å–Ω—ã–µ –Ω–æ–º–µ—Ä–∞ –æ—Ç —Ç–≤–æ—Ä—á–µ—Å–∫–æ–≥–æ –∫–æ–ª–ª–µ–∫—Ç–∏–≤–∞ "Ala-Too"
‚Ä¢ –¢–µ–∞—Ç—Ä–∞–ª—å–Ω—ã–µ –º–∏–Ω–∏–∞—Ç—é—Ä—ã
‚Ä¢ –ú—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –æ—Ç —Ç–∞–ª–∞–Ω—Ç–ª–∏–≤—ã—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤

–†–µ–∫—Ç–æ—Ä —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞ –ø–æ–∑–¥—Ä–∞–≤–∏–ª –≤—Å–µ—Ö –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —Å –Ω–∞—Å—Ç—É–ø–∞—é—â–∏–º –ù–æ–≤—ã–º –≥–æ–¥–æ–º –∏ –ø–æ–∂–µ–ª–∞–ª —É—Å–ø–µ—Ö–æ–≤ –≤ —É—á–µ–±–µ –∏ –ª–∏—á–Ω–æ–π –∂–∏–∑–Ω–∏.

–°–ø–∞—Å–∏–±–æ –≤—Å–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞–º –∑–∞ –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–π –ø—Ä–∞–∑–¥–Ω–∏–∫!`,
    image: 'https://images.unsplash.com/photo-1511795409834-ef04bbd61622?w=900&h=600&fit=crop',
    date: '5 –¥–µ–∫–∞–±—Ä—è 2025'
  }
];

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
let currentSlide = 0;
let slideInterval;

document.addEventListener('DOMContentLoaded', () => {
  renderSlider();
  renderNewsList();
  initSliderControls();
  startAutoSlide();
  setupModalHandlers();
});

// –†–µ–Ω–¥–µ—Ä –∫–∞—Ä—É—Å–µ–ª–∏
function renderSlider() {
  const slider = document.getElementById('news-slider');
  const dots = document.getElementById('slider-dots');
  
  slider.innerHTML = newsData.map((news, index) => `
    <div class="slider-slide" data-id="${news.id}">
      <img src="${news.image}" alt="${news.title}">
      <div class="slider-overlay">
        <h3>${news.title}</h3>
        <p>${news.excerpt}</p>
      </div>
    </div>
  `).join('');

  dots.innerHTML = newsData.map((_, index) => `
    <button class="slider-dot ${index === 0 ? 'active' : ''}" data-index="${index}"></button>
  `).join('');

  // –ö–ª–∏–∫–∏ –Ω–∞ —Å–ª–∞–π–¥—ã
  slider.querySelectorAll('.slider-slide').forEach(slide => {
    slide.addEventListener('click', () => {
      const newsId = parseInt(slide.dataset.id);
      openNewsModal(newsId);
    });
  });

  // –ö–ª–∏–∫–∏ –Ω–∞ —Ç–æ—á–∫–∏
  dots.querySelectorAll('.slider-dot').forEach(dot => {
    dot.addEventListener('click', () => {
      const index = parseInt(dot.dataset.index);
      goToSlide(index);
      resetAutoSlide();
    });
  });
}

// –†–µ–Ω–¥–µ—Ä —Å–ø–∏—Å–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π
function renderNewsList() {
  const list = document.getElementById('news-list');
  
  list.innerHTML = newsData.map(news => `
    <div class="news-item" data-id="${news.id}">
      <img src="${news.image}" alt="${news.title}" class="news-item-image">
      <div class="news-item-content">
        <div class="news-item-date">${news.date}</div>
        <h3 class="news-item-title">${news.title}</h3>
        <p class="news-item-excerpt">${news.excerpt}</p>
      </div>
    </div>
  `).join('');

  // –ö–ª–∏–∫–∏ –Ω–∞ –Ω–æ–≤–æ—Å—Ç–∏
  list.querySelectorAll('.news-item').forEach(item => {
    item.addEventListener('click', () => {
      const newsId = parseInt(item.dataset.id);
      openNewsModal(newsId);
    });
  });
}

// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª–∞–π–¥–µ—Ä–æ–º
function initSliderControls() {
  const prevBtn = document.getElementById('slider-prev');
  const nextBtn = document.getElementById('slider-next');

  prevBtn.addEventListener('click', () => {
    goToSlide(currentSlide - 1);
    resetAutoSlide();
  });

  nextBtn.addEventListener('click', () => {
    goToSlide(currentSlide + 1);
    resetAutoSlide();
  });
}

// –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–∞–π–¥—É
function goToSlide(index) {
  const slider = document.getElementById('news-slider');
  const dots = document.querySelectorAll('.slider-dot');
  const totalSlides = newsData.length;

  // –¶–∏–∫–ª–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞
  if (index < 0) {
    currentSlide = totalSlides - 1;
  } else if (index >= totalSlides) {
    currentSlide = 0;
  } else {
    currentSlide = index;
  }

  // –ê–Ω–∏–º–∞—Ü–∏—è
  slider.style.transform = `translateX(-${currentSlide * 100}%)`;

  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ—á–µ–∫
  dots.forEach((dot, i) => {
    dot.classList.toggle('active', i === currentSlide);
  });
}

// –ê–≤—Ç–æ–ø—Ä–æ–∫—Ä—É—Ç–∫–∞
function startAutoSlide() {
  slideInterval = setInterval(() => {
    goToSlide(currentSlide + 1);
  }, 5000); // –ö–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
}

function resetAutoSlide() {
  clearInterval(slideInterval);
  startAutoSlide();
}

// –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∞ –Ω–æ–≤–æ—Å—Ç–∏
function openNewsModal(newsId) {
  const news = newsData.find(n => n.id === newsId);
  if (!news) return;

  const modal = document.getElementById('news-modal');
  const title = document.getElementById('news-modal-title');
  const image = document.getElementById('news-modal-image');
  const meta = document.getElementById('news-modal-meta');
  const content = document.getElementById('news-modal-content');

  title.textContent = news.title;
  image.src = news.image;
  image.alt = news.title;
  meta.textContent = news.date;
  content.textContent = news.content;

  modal.classList.add('active');
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–¥–∞–ª–∞
function setupModalHandlers() {
  const modal = document.getElementById('news-modal');
  const closeBtn = document.getElementById('close-news-modal');

  if (closeBtn) {
    closeBtn.addEventListener('click', () => {
      modal.classList.remove('active');
    });
  }

  // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –Ω–∞ —Ñ–æ–Ω
  modal.addEventListener('click', (e) => {
    if (e.target === modal) {
      modal.classList.remove('active');
    }
  });

  // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ Escape
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && modal.classList.contains('active')) {
      modal.classList.remove('active');
    }
  });
}
